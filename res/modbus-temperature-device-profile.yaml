name: "modbus_temperature_device_profile"
manufacturer: "IoTechSystems"
model: "IoT6"
description: "Temperature & Humidity Device Profile"
labels:
  - "temperature_sensor"
  - "modbus_protocol"

deviceResources:
  -
    name: temperature
    description: "temperature realtime value"
    attributes:
      { parameter: "temperature" }
    properties:
      value:
       { type: "Float32", size: "4", readWrite: "R", defaultValue: "0.00", minimum: "-1000.00", maximum: "1000.00" }
      units:
       { defaultValue: "-999.9" }
  -
    name: humidity
    description: "humidity realtime value"
    attributes:
      { parameter: "humidity" }
    properties:
      value:
       { type: "Float32", size: "4", readWrite: "R", defaultValue: "0.00", minimum: "-1000.00", maximum: "1000.00" }
      units:
       { defaultValue: "-999.9" }
  -
    name: humiditymin
    description: "humidity min value"
    attributes:
      { parameter: "humiditymin" }
    properties:
      value:
       { type: "Float32", size: "4", readWrite: "RW", defaultValue: "0.00", minimum: "-1000.00", maximum: "1000.00" }
      units:
       { defaultValue: "-999.9" }
  -
    name: temperaturemin
    description: "temperature min value"
    attributes:
      { parameter: "temperaturemin" }
    properties:
      value:
       { type: "Float32", size: "4", readWrite: "RW", defaultValue: "0.00", minimum: "-1000.00", maximum: "1000.00" }
      units:
       { defaultValue: "-999.9" }
  -
    name: humiditymax
    description: "humidity max value"
    attributes:
      { parameter: "humiditymax" }
    properties:
      value:
       { type: "Float32", size: "4", readWrite: "RW", defaultValue: "0.00", minimum: "-1000.00", maximum: "1000.00" }
      units:
       { defaultValue: "-999.9" }
  -
    name: temperaturemax
    description: "temperature max value"
    attributes:
      { parameter: "temperaturemax" }
    properties:
      value:
       { type: "Float32", size: "4", readWrite: "RW", defaultValue: "0.00", minimum: "-1000.00", maximum: "1000.00" }
      units:
       { defaultValue: "-999.9" }

deviceCommands:
  -
    name: modbus_temperature_device
    get:
      - { deviceResource: "temperature" }
      - { deviceResource: "humidity" }
      - { deviceResource: "temperaturemin" }
      - { deviceResource: "humiditymin" }
      - { deviceResource: "temperaturemax" }
      - { deviceResource: "humiditymax" }
    set:
      - { deviceResource: "temperaturemin" }
      - { deviceResource: "humiditymin" }
      - { deviceResource: "temperaturemax" }
      - { deviceResource: "humiditymax" }
coreCommands:
  -
    name: get_temperature_device_all
    get:
      path: "/api/v1/device/{deviceId}/get_temperature_device_all"
      responses:
      - code: "200"
        description: "Successfully read the modbus_temperature_device sensors."
        expectedValues: [ "temperature", "humidity", "temperaturemin", "humiditymin", "temperaturemax", "humiditymax" ]
      - code: "503"
        description: "service unavailable"
        expectedValues: []
    put:
      path: "/api/v1/device/{deviceId}/get_temperature_device_all"
      parameterNames: [ "temperaturemin", "humiditymin", "temperaturemax", "humiditymax" ]
      responses:
      - code: "200"
        description: "Successfully set the temperaturemin and humiditymin."
        expectedValues: []
      - code: "503"
        description: "service unavailable"
        expectedValues: []
  -
    name: temperature
    get:
        path: "/api/v1/device/{deviceId}/temperature"
        responses:
          -
            code: "200"
            description: "Get the temperature reading."
            expectedValues: ["temperature"]
          -
            code: "503"
            description: "service unavailable"
            expectedValues: []

  -
    name: humidity
    get:
      path: "/api/v1/device/{deviceId}/humidity"
      responses:
        -
          code: "200"
          description: "Get the humidity reading."
          expectedValues: ["humidity"]
        -
          code: "503"
          description: "service unavailable"
          expectedValues: []

  -
    name: temperaturemin
    get:
      path: "/api/v1/device/{deviceId}/temperaturemin"
      responses:
      - code: "200"
        description: "Get the temperaturemin value."
        expectedValues: ["temperaturemin"]
      - code: "503"
        description: "service unavailable"
        expectedValues: []
    put:
      path: "/api/v1/device/{deviceId}/temperaturemin"
      parameterNames: ["temperaturemin"]
      responses:
      - code: "200"
        description: "Successfully set the temperaturemin value."
        expectedValues: []
      - code: "503"
        description: "service unavailable"
        expectedValues: []
  -
    name: humiditymin
    get:
      path: "/api/v1/device/{deviceId}/humiditymin"
      responses:
      - code: "200"
        description: "Get the humiditymin value."
        expectedValues: ["humiditymin"]
      - code: "503"
        description: "service unavailable"
        expectedValues: []
    put:
      path: "/api/v1/device/{deviceId}/humiditymin"
      parameterNames: ["humiditymin"]
      responses:
      - code: "200"
        description: "Successfully set the humiditymin value."
        expectedValues: []
      - code: "503"
        description: "service unavailable"
        expectedValues: []
  -
    name: temperaturemax
    get:
      path: "/api/v1/device/{deviceId}/temperaturemax"
      responses:
      - code: "200"
        description: "Get the temperaturemax value."
        expectedValues: ["temperaturemax"]
      - code: "503"
        description: "service unavailable"
        expectedValues: []
    put:
      path: "/api/v1/device/{deviceId}/temperaturemax"
      parameterNames: ["temperaturemax"]
      responses:
      - code: "200"
        description: "Successfully set the temperaturemax value."
        expectedValues: []
      - code: "503"
        description: "service unavailable"
        expectedValues: []
  -
    name: humiditymax
    get:
      path: "/api/v1/device/{deviceId}/humiditymax"
      responses:
      - code: "200"
        description: "Get the humiditymax value."
        expectedValues: ["humiditymax"]
      - code: "503"
        description: "service unavailable"
        expectedValues: []
    put:
      path: "/api/v1/device/{deviceId}/humiditymax"
      parameterNames: ["humiditymax"]
      responses:
      - code: "200"
        description: "Successfully set the humiditymax value."
        expectedValues: []
      - code: "503"
        description: "service unavailable"
        expectedValues: []
